<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.64">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-159979458-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="CodeYourFuture Syllabus" href="/opensearch.xml"><title data-react-helmet="true">Express Workshop | CodeYourFuture Syllabus</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Express Workshop | CodeYourFuture Syllabus"><meta data-react-helmet="true" name="description" content="This class is based on the Node Girls Express Workshop"><meta data-react-helmet="true" property="og:description" content="This class is based on the Node Girls Express Workshop"><meta data-react-helmet="true" property="og:url" content="https://syllabus.codeyourfuture.io//node/workshops/workshop"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="https://syllabus.codeyourfuture.io//node/workshops/workshop"><link rel="stylesheet" href="/styles.20137c46.css">
<link rel="preload" href="/styles.db9e3a81.js" as="script">
<link rel="preload" href="/runtime~main.243a2622.js" as="script">
<link rel="preload" href="/main.60ab707a.js" as="script">
<link rel="preload" href="/1.cf43894a.js" as="script">
<link rel="preload" href="/2.19272ac2.js" as="script">
<link rel="preload" href="/167.eecfd68f.js" as="script">
<link rel="preload" href="/170.bdba369a.js" as="script">
<link rel="preload" href="/935f2afb.4e5578ee.js" as="script">
<link rel="preload" href="/17896441.29ffa547.js" as="script">
<link rel="preload" href="/0b7cb10b.d876c959.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top navbarHideable_3046"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="CodeYourFuture Logo"><strong class="navbar__title">Home</strong></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Modules</a><ul class="dropdown__menu"><li><a href="https://introtocoding.codeyourfuture.io" target="_blank" rel="noopener noreferrer" class="dropdown__link outside-link" position="left">Intro To Coding</a></li><li><a href="https://fundamentals.codeyourfuture.io/" target="_blank" rel="noopener noreferrer" class="dropdown__link outside-link" position="left">Fundamentals</a></li><li><a class="dropdown__link" position="left" href="/html-css/index">HTML-CSS</a></li><li><a class="dropdown__link" position="left" href="/git/overview">Git and Github</a></li><li><a class="dropdown__link" position="left" href="/js-core-1/index">JavaScript Core 1</a></li><li><a class="dropdown__link" position="left" href="/js-core-2/index">JavaScript Core 2</a></li><li><a class="dropdown__link" position="left" href="/js-core-3/index">JavaScript Core 3</a></li><li><a class="dropdown__link" position="left" href="/react/index">React</a></li><li><a class="dropdown__link" position="left" href="/node/index">Node</a></li><li><a class="dropdown__link" position="left" href="/db/index">SQL</a></li><li><a class="dropdown__link" position="left" href="/mongodb/index">MongoDB</a></li><li><a class="dropdown__link" position="left" href="/finalproject/intro">Final Projects</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Workshops</a><ul class="dropdown__menu"><li><a class="dropdown__link" position="left" href="/workshops/welcome-to-cyf">Welcome to CYF</a></li><li><a class="dropdown__link" position="left" href="/workshops/aws-dynamodb">AWS &amp; DynamoDB Workshop</a></li><li><a class="dropdown__link" position="left" href="/workshops/git-desktop">Github Desktop Workshop</a></li><li><a class="dropdown__link" position="left" href="/workshops/mongodb-101">MongoDB 101 Workshop</a></li><li><a class="dropdown__link" position="left" href="/workshops/processing-js-workshop">Processing.js Workshop</a></li><li><a class="dropdown__link" position="left" href="/workshops/js-testing-workshop">JavaScript Testing Workshop</a></li><li><a href="https://github.com/Thomas-Stewart/syllabus/tree/master/java" target="_blank" rel="noopener noreferrer" class="dropdown__link outside-link" position="left">Java Workshop</a></li><li><a class="dropdown__link" position="left" href="/workshops/deployment/index">Deploying Your Code Workshop</a></li><li><a class="dropdown__link" position="left" href="/workshops/intro-to-accessibility">Intro to Web Accessibility</a></li><li><a target="_blank" rel="noopener noreferrer" class="dropdown__link" position="left">-----------</a></li><li><a href="https://github.com/CodeYourFuture/syllabus/issues/new?assignees=&amp;labels=Workshop&amp;template=workshop-request.md&amp;title=%5BWorkshop%5D" target="_blank" rel="noopener noreferrer" class="dropdown__link" position="left">Want to request a workshop?</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Guides</a><ul class="dropdown__menu"><li><a class="dropdown__link" position="left" href="/guides/coding-standards">Coding Standards</a></li><li><a class="dropdown__link" position="left" href="/guides/coding-101">Coding 101</a></li><li><a class="dropdown__link" position="left" href="/guides/escalation-policy">Escalation Policy</a></li><li><a class="dropdown__link" position="left" href="/guides/react-cheatsheet">React Cheatsheet</a></li><li><a class="dropdown__link" position="left" href="/guides/useful-links">Useful Links</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Other</a><ul class="dropdown__menu"><li><a href="https://teachertraining.codeyourfuture.io" target="_blank" rel="noopener noreferrer" class="dropdown__link outside-link" position="left">Teacher Training</a></li><li><a href="https://docs.codeyourfuture.io" target="_blank" rel="noopener noreferrer" class="dropdown__link outside-link" position="left">Organisation Documentation</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/contributing/overview">Want to contribute?</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="CodeYourFuture Logo"><strong class="navbar__title">Home</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist">Modules</a><ul class="menu__list"><li class="menu__list-item"><a href="https://introtocoding.codeyourfuture.io" target="_blank" rel="noopener noreferrer" class="menu__link outside-link" position="left">Intro To Coding</a></li><li class="menu__list-item"><a href="https://fundamentals.codeyourfuture.io/" target="_blank" rel="noopener noreferrer" class="menu__link outside-link" position="left">Fundamentals</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/html-css/index">HTML-CSS</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/git/overview">Git and Github</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/js-core-1/index">JavaScript Core 1</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/js-core-2/index">JavaScript Core 2</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/js-core-3/index">JavaScript Core 3</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/react/index">React</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/node/index">Node</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/db/index">SQL</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/mongodb/index">MongoDB</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/finalproject/intro">Final Projects</a></li></ul></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist">Workshops</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" position="left" href="/workshops/welcome-to-cyf">Welcome to CYF</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/workshops/aws-dynamodb">AWS &amp; DynamoDB Workshop</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/workshops/git-desktop">Github Desktop Workshop</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/workshops/mongodb-101">MongoDB 101 Workshop</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/workshops/processing-js-workshop">Processing.js Workshop</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/workshops/js-testing-workshop">JavaScript Testing Workshop</a></li><li class="menu__list-item"><a href="https://github.com/Thomas-Stewart/syllabus/tree/master/java" target="_blank" rel="noopener noreferrer" class="menu__link outside-link" position="left">Java Workshop</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/workshops/deployment/index">Deploying Your Code Workshop</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/workshops/intro-to-accessibility">Intro to Web Accessibility</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" class="menu__link" position="left">-----------</a></li><li class="menu__list-item"><a href="https://github.com/CodeYourFuture/syllabus/issues/new?assignees=&amp;labels=Workshop&amp;template=workshop-request.md&amp;title=%5BWorkshop%5D" target="_blank" rel="noopener noreferrer" class="menu__link" position="left">Want to request a workshop?</a></li></ul></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" position="left" href="/guides/coding-standards">Coding Standards</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/guides/coding-101">Coding 101</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/guides/escalation-policy">Escalation Policy</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/guides/react-cheatsheet">React Cheatsheet</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/guides/useful-links">Useful Links</a></li></ul></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist">Other</a><ul class="menu__list"><li class="menu__list-item"><a href="https://teachertraining.codeyourfuture.io" target="_blank" rel="noopener noreferrer" class="menu__link outside-link" position="left">Teacher Training</a></li><li class="menu__list-item"><a href="https://docs.codeyourfuture.io" target="_blank" rel="noopener noreferrer" class="menu__link outside-link" position="left">Organisation Documentation</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/contributing/overview">Want to contribute?</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC sidebarWithHideableNavbar_2IoJ"><a tabindex="-1" class="sidebarLogo_Snse" href="/"><img src="/img/logo.png" alt="CodeYourFuture Logo"><strong>Home</strong></a><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Overview</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/node/index">Overview</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Lesson 1</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/node/week-1/lesson">Lesson</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/node/week-1/homework">Homework</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/node/week-1/instructors">Instructor Notes</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Lesson 2</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/node/week-2/lesson">Lesson</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/node/week-2/homework">Homework</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/node/week-2/instructors">Instructor Notes</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Lesson 3</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/node/week-3/lesson">Lesson</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/node/week-3/homework">Homework</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/node/week-3/instructors">Instructor Notes</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Workshops</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/node/workshops/workshop">Express Workshop</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/node/workshops/cyf-hotel">CYF Hotel Workshop</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Challenges</a><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/CodeYourFuture/cyf-node-challenges/" target="_blank" rel="noreferrer noopener" class="menu__link" tabindex="-1">Node Challenges</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Express Workshop</h1></header><div class="markdown"><blockquote><p>This class is based on the <a href="https://github.com/node-girls/express-workshop" target="_blank" rel="noopener noreferrer">Node Girls Express Workshop</a></p></blockquote><p>Fork the <a href="https://github.com/CodeYourFuture/express-workshop" target="_blank" rel="noopener noreferrer">express-workshop repository</a></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-sh codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">git clone https://github.com/YOUR-USERNAME/express-workshop</span></div></div></div></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor" id="step-1---setting-up-your-project"></a>Step 1 - Setting up your project<a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-1---setting-up-your-project" title="Direct link to heading">#</a></h1><p>When creating a Node.js project, you will be installing a lot of different
things along the way. If you want to share your project with others, you need to
have a list of the things you installed, so that other people know what to
install in order to run the project.</p><p>In Node.js, this &#x27;list&#x27; file is called a <code>package.json</code>. The &#x27;things you&#x27;ve
installed&#x27; are referred to as <strong>dependencies</strong>. Creating this file is the first
step in setting up your Node.js project.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="1-make-a-packagejson-file"></a>1. Make a <code>package.json</code> file<a aria-hidden="true" tabindex="-1" class="hash-link" href="#1-make-a-packagejson-file" title="Direct link to heading">#</a></h2><p>Let&#x27;s start by creating the <code>package.json</code> file. We can add things to it as the
project grows. The <code>package.json</code> file is easy to create from the command line.
Type the following command into your terminal to get started:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-sh codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ npm init</span></div></div></div></div></div><p>This command will initialise a step-by-step process for creating the
<code>package.json</code>. You should see something like this:</p><p><img src="https://raw.githubusercontent.com/node-girls/workshop-cms/master/readme-images/step1-npm-init01.png" alt="starting npm init"></p><p>It will ask you a bunch of questions.</p><blockquote><p>You can skip most of the questions but change the <code>entry point</code> from
<code>(index.js)</code> to <code>server.js</code>.</p></blockquote><blockquote><p>The wizard asks you for the following information: <code>name</code>, <code>version</code>,
<code>description</code>, <code>main</code>, <code>test</code>, <code>repository</code>, <code>keywords</code>, <code>author</code>, <code>license</code> -
do you understand all of them?</p></blockquote><p>At the endo of the wizard, you should see a new file called <code>package.json</code> in
your project&#x27;s folder.</p><p>Here is an example <code>package.json</code> file for a project called
<a href="https://github.com/jaredhanson/passport/blob/master/package.json" target="_blank" rel="noopener noreferrer">Passport</a>.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor" id="what-is-json"></a>What is JSON?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-is-json" title="Direct link to heading">#</a></h1><p>JSON is a type of file for structuring data in a readable way. It is also a
really popular format for sending data across the web. JSON is a string
representation of a Javascript object. JSON objects convert really easily to
Javascript objects, and vice versa, with <code>JSON.parse()</code> and <code>JSON.stringify()</code>.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;firstName&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;John&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;lastName&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Smith&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;isAlive&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;age&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">25</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;address&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;streetAddress&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;21 2nd Street&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;city&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;New York&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;state&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;NY&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;postalCode&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;10021-3100&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;phoneNumbers&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;type&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;home&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;212 555-1234&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;type&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;office&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;646 555-4567&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;type&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mobile&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;123 456-7890&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;children&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;spouse&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token keyword null nil" style="font-style:italic">null</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor" id="step-2---installing-express"></a>Step 2 - Installing Express<a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-2---installing-express" title="Direct link to heading">#</a></h1><p>Before we write any code, you&#x27;ll need to install the Express library. We&#x27;re
going to use the <strong><a href="https://www.npmjs.com/" target="_blank" rel="noopener noreferrer">Node Package Manager (npm)</a></strong> to
download it using the <strong><code>npm install</code></strong> command.</p><p>NPM is the place to go to download other Node code written by other people.
There are thousands of open-source, 3rd-party Node modules (also known as
&quot;packages&quot;) by other people that you can download and use in your own projects.</p><p>As we install Express, we&#x27;ll need to update the <code>package.json</code> to add Express as
a dependency. We do this so that other people working on the project will know
to install Express before running any of the code. This can be done by adding
<strong><code>--save</code></strong> to the end of your command.</p><p>Run the following command in your terminal:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-sh codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">npm install express --save</span></div></div></div></div></div><p>Express should now be installed. Check your <code>package.json</code> file to make sure it
has been added as a dependency. It will look like this:</p><p><img src="https://cloud.githubusercontent.com/assets/10683087/16382664/be35f0b4-3c79-11e6-82b6-ae9e4a037c3f.png" alt="package.json screenshot"></p><h1><a aria-hidden="true" tabindex="-1" class="anchor" id="step-3---building-the-server"></a>Step 3 - Building the server<a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-3---building-the-server" title="Direct link to heading">#</a></h1><p>The first thing we need to do is build our server. You will always need to build
a server when writing back-end code. A server can be built in pure Node.js, but
Express gives us simpler syntax to work with.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="1-create-a-serverjs-file"></a>1. Create a <code>server.js</code> file<a aria-hidden="true" tabindex="-1" class="hash-link" href="#1-create-a-serverjs-file" title="Direct link to heading">#</a></h2><p>Let&#x27;s build our server! Before we do anything, let&#x27;s create a new file called
<code>server.js</code>. This is where all our server code is going to live.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="2-require-the-express-library"></a>2. <code>require</code> the <code>express</code> library<a aria-hidden="true" tabindex="-1" class="hash-link" href="#2-require-the-express-library" title="Direct link to heading">#</a></h2><p>We already installed Express in Step 2, but we need to make sure it is included
in this file specifically so we can make use of its methods. In Node.js, when
you want to access the functionality of a library or module in another file, you
<code>require</code> it.</p><p>To import Express, write the following inside <code>server.js</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> express </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;express&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><blockquote><p>We will try and get used to ES6 syntax - so use <code>const</code> and <code>let</code> instead of
<code>var</code>.</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="3-initialise-the-server"></a>3. Initialise the server<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3-initialise-the-server" title="Direct link to heading">#</a></h2><p>To initialise our server, we just need to call the <code>express()</code> function. This
will create an Express application for us to work with.</p><p>Add the second line of code to your <code>server.js</code> file:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> express </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;express&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> app </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">express</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="4-start-listening-for-potential-requests"></a>4. Start &#x27;listening&#x27; for potential requests<a aria-hidden="true" tabindex="-1" class="hash-link" href="#4-start-listening-for-potential-requests" title="Direct link to heading">#</a></h2><p>One more step left, we need to set a <strong>port</strong> for our server to listen to. Think
of a port as a door number; any requests that come to the server will come via
that door. Setting a port will allow us to find where our server is running.</p><p>We use the <strong><code>app.listen</code></strong> method to do this. This method takes two arguments:
a <strong>port</strong> and a <strong>callback function</strong> telling it what to do once the server is
running. Need clarification? Read more about the <code>app.listen</code> method in the
<a href="https://expressjs.com/en/4x/api.html#app.listen" target="_blank" rel="noopener noreferrer">Express documentation</a>.</p><p>We&#x27;re going to run our server on port <code>3000</code>, and run a simple <code>console.log</code> as
our callback function. Update your <code>server.js</code> file, calling the <code>app.listen</code>
method:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> express </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;express&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> app </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">express</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">listen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Server is listening on port 3000. Ready to accept requests!&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><blockquote><p>Try to use ES6 arrow functions instead of <code>function</code>.</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="5-switch-the-server-on"></a>5. Switch the server on!<a aria-hidden="true" tabindex="-1" class="hash-link" href="#5-switch-the-server-on" title="Direct link to heading">#</a></h2><p>You&#x27;ve built your server, but it isn&#x27;t running yet. We need to run a command in
the terminal to do this. We are going to use the <code>node</code> keyword to run the
server file.</p><p>Type the following command in your terminal:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-sh codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">node server.js</span></div></div></div></div></div><p>If you see this, congratulations! You have built yourself a server!</p><p><img src="https://raw.githubusercontent.com/node-girls/workshop-cms/master/readme-images/step2-server02.png" alt="success"></p><h1><a aria-hidden="true" tabindex="-1" class="anchor" id="step-4---communicating-with-the-server"></a>Step 4 - Communicating with the server<a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-4---communicating-with-the-server" title="Direct link to heading">#</a></h1><p>Now that we&#x27;ve built the server, we need to communicate with it. We&#x27;re going to
control the server with <strong>handler functions</strong>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="what-is-a-handler-function"></a>What is a handler function?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-is-a-handler-function" title="Direct link to heading">#</a></h3><p>When a request reaches the server, we need a way of responding to it. In comes
the handler function. The handler function is just a function which receives
requests and handles them, hence the name.</p><p>The handler function always takes a <code>request</code> and <code>response</code> object, and sends
the response back to the client along with some information. You can decide what
to send back in your response.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="what-does-a-handler-function-look-like-in-express"></a>What does a handler function look like in Express?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-does-a-handler-function-look-like-in-express" title="Direct link to heading">#</a></h3><p>The <code>get()</code> <a href="https://expressjs.com/en/api.html#app.get.method" target="_blank" rel="noopener noreferrer">method</a> is used to
define a handler function in Express. It takes two parameters: the <strong>endpoint</strong>
at which to trigger an action (we&#x27;ll explain more about this in the next step),
and the handler function that tells it exactly what to do. Here&#x27;s a simple
&quot;Hello World!&quot; example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// req is the Request object, res is the Response object</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// (these are just variable names, they can be anything but it&#x27;s a convention to call them req and res)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">send</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Hello World!&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>Here, we are telling our server to respond with &quot;Hello World!&quot; when someone
tries to access the webpage.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="1-create-your-own-handler-function"></a>1. Create your own handler function.<a aria-hidden="true" tabindex="-1" class="hash-link" href="#1-create-your-own-handler-function" title="Direct link to heading">#</a></h2><p>We are now making a handler function with a custom message in our response. You
can write any message you want.</p><p>Update your <code>server.js</code> file with an empty <code>app.get()</code> function:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> express </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;express&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> app </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">express</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">listen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Server is listening on port 3000. Ready to accept requests!&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><blockquote><p>Exercise: Try to <code>console.log</code> the <code>request</code> object inside the handler
function. Restart your server, refresh the browser, then go to your terminal
to see what it looks like. You should see a lot of data come through.</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="2-tell-your-handler-function-what-to-do"></a>2. Tell your handler function what to do<a aria-hidden="true" tabindex="-1" class="hash-link" href="#2-tell-your-handler-function-what-to-do" title="Direct link to heading">#</a></h2><p>We want our handler function to send back a message to the client. To do that,
we&#x27;re going to use the Express <code>send()</code>
<a href="https://expressjs.com/en/api.html#res.send" target="_blank" rel="noopener noreferrer">method</a>. This will update the
response object with the message.</p><p>Update your handler function like so:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> express </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;express&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> app </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">express</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">send</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Yay Node Girls!&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">listen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Server is listening on port 3000. Ready to accept requests!&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="3-check-it-out-in-your-browser"></a>3. Check it out in your browser<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3-check-it-out-in-your-browser" title="Direct link to heading">#</a></h2><p>Quit your server in the terminal with <code>ctrl + c</code>. Then restart it to run your
new changes.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-sh codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">node server.js</span></div></div></div></div></div><p>Now, open your favourite browser (we like Chrome), and navigate to
<code>http://localhost:3000</code>. If you see your message in the browser,
congratulations! You just sent your first response from the server.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor" id="step-5---routing"></a>Step 5 - Routing<a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-5---routing" title="Direct link to heading">#</a></h1><p>At the moment our server only does one thing. When it receives a request from
the <code>/</code> endpoint, it sends back the same response: &quot;Yay Node Girls!&quot;.</p><blockquote><p>Try typing http://localhost:3000/nodegirls and see what happens.</p></blockquote><p>However by making use of endpoints, we can make the server send different
responses for different requests. This concept is called <strong>routing</strong>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="what-is-an-endpoint"></a>What is an endpoint?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-is-an-endpoint" title="Direct link to heading">#</a></h3><p>An endpoint is the part of the URL which comes after <code>/</code>. For example:
<code>/chocolate</code> is the &quot;chocolate&quot; endpoint. It&#x27;s the URL to which you send a
request.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="what-is-url"></a>What is URL?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-is-url" title="Direct link to heading">#</a></h3><p><img alt="URL structure" src="/assets/images/http1-url-structure-20f6e9249e0f11322516234d24e5cb35.png" title="URL"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="1-create-your-own-endpoints-and-send-different-responses"></a>1. Create your own endpoints and send different responses<a aria-hidden="true" tabindex="-1" class="hash-link" href="#1-create-your-own-endpoints-and-send-different-responses" title="Direct link to heading">#</a></h2><p>We&#x27;re going to try sending different responses at different endpoints. Remember
the <code>app.get()</code> method? To set up routing in your server, we just need to repeat
this method with different endpoints.</p><p>For example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">send</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Hello World!&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/chocolate&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">send</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Mm chocolate :O&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><blockquote><p><strong>Exercise:</strong> Add some code so that your server sends one message when the
endpoint is <code>/node</code> and another one when it&#x27;s <code>/girls</code>.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="step-6---serving-static-files"></a>Step 6 - Serving static files<a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-6---serving-static-files" title="Direct link to heading">#</a></h3><p>So we know how to send back a simple message. But what if you want to send back
a whole HTML page, or an image?</p><p>Things like HTML files, images etc are known as <strong>static assets</strong>. If you want
your server to &quot;serve&quot; static assets back to the browser, you need to do
something different than just using the <code>res.send()</code> method.</p><p>To be able to send any file from the server we need a special, built-in
<strong>middleware</strong> function that comes with Express: <code>express.static()</code>. Read more
about it <a href="https://expressjs.com/en/starter/static-files.html" target="_blank" rel="noopener noreferrer">here</a>.</p><p>Say we want to serve all the static assets in our &quot;public&quot; folder. The
<code>express.static()</code> function will look like this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">use</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">express</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">static</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;public&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="1-serve-static-files-from-your-server"></a>1. Serve static files from your server<a aria-hidden="true" tabindex="-1" class="hash-link" href="#1-serve-static-files-from-your-server" title="Direct link to heading">#</a></h2><p>Delete all your <code>app.get</code> endpoint functions, and replace them with the line of
code above. Restart your server, refresh your browser and see what happens! If
you see a Node Girls CMS, then your static assets have been successfully served.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="http-request-methods"></a>HTTP request methods<a aria-hidden="true" tabindex="-1" class="hash-link" href="#http-request-methods" title="Direct link to heading">#</a></h3><p>All requests use one of the <code>HTTP methods</code>. The main ones are: <code>GET, POST, PUT, DELETE</code>.</p><p><code>app.get</code> deals with requests that use the <code>GET</code> HTTP method.</p><blockquote><p>We will go into these Methods into more details, but for now, think of <code>GET</code>
as a method for Getting data. <code>POST</code> is for POSTing/inserting new data. <code>PUT</code>
is for updating. <code>DELETE</code> is for deleting data.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="the-post-http-request-method"></a>The <code>POST</code> http request method<a aria-hidden="true" tabindex="-1" class="hash-link" href="#the-post-http-request-method" title="Direct link to heading">#</a></h3><p>When sending data to the server, we use the <code>POST</code> http request method, instead
of <code>GET</code>.</p><p>Let&#x27;s try <code>POST</code>ing some text to the server.</p><p>We&#x27;re going to add a form to the <code>index.html</code> page, so that you can write your
blogposts from there.</p><p>Open up the <code>index.html</code> file in your text editor. If you have a look, you
should see this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-html codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">class</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">entry-container</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">&lt;!--PASTE YOUR CODE HERE!! --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></div></div></div></div><p><strong>Replace the greyed-out comment with this code snippet:</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-html codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">h3</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">Create a blog post</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">h3</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">form</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">action</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">/create-post</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">method</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">POST</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">textarea</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">blogpost</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">rows</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">10</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">cols</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">14</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">textarea</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">button</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">type</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">submit</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">Send</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">button</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">form</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></div></div></div></div><ul><li>This form has a text area and a Send button.</li><li>The <code>action</code> attribute is the endpoint form data will be sent to.</li><li>The <code>name</code> attribute will be used later to reference the data.</li></ul><p>When you hit Send, the form will send a <code>POST</code> request to the server, using
whatever is in the <code>action</code> attribute as the endpoint. In our case it&#x27;s
<code>/create-post</code>.</p><blockquote><p><strong>Exercise:</strong> Open Chrome Developers tool, click the button and see what
happens.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="receiving-the-blog-post-on-the-server"></a>Receiving the blog post on the server<a aria-hidden="true" tabindex="-1" class="hash-link" href="#receiving-the-blog-post-on-the-server" title="Direct link to heading">#</a></h3><ul><li><p>Data doesn&#x27;t come through the server in one go; it flows to the server in a
<strong>stream</strong>. Think of a stream as water flowing from a tap into a bucket. Your
job is to collect this water in the server.</p></li><li><p>If we were writing a pure Node server, we would have to think about how to
collect the stream of data properly. But luckily for us, Express handles all
of that stuff under the hood.</p></li><li><p>All you need to do is define a route to deal with requests that come through
on the <code>/create-post</code> endpoint.</p></li></ul><p>Let&#x27;s remind ourselves of a simple <code>GET</code> route in Express:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/hello-world&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">send</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Hello there!&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><blockquote><p><strong>Exercise:</strong> This time we want to define a route to deal with a <code>POST</code>
request not a <code>GET</code>. What do you think you would need to do differently?
Experiment and see if you can define a route for the <code>/create-post</code> endpoint!</p><p>For now, make your <code>/create-post</code> handler simply do this: <code>console.log(&#x27;I am /create-post endpoint&#x27;)</code>.</p></blockquote><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="extracting-the-blog-post"></a>Extracting the blog post<a aria-hidden="true" tabindex="-1" class="hash-link" href="#extracting-the-blog-post" title="Direct link to heading">#</a></h3><p>Now the contents of your blogpost is hidden in your <code>req</code> object somewhere.
Normally you would extract it using <code>req.body</code>. Try to console.log <code>req.body</code>
now.</p><p>Getting <code>undefined</code>? Not to worry, that&#x27;s normal. When data has been <code>POST</code>ed to
the server as <code>FormData</code>, we need to do things slightly differently to access
the data that&#x27;s come through in the request.</p><p>We need another middleware function. Something that can get extract the contents
out of the special <code>FormData</code> object. For this we will use <code>express-formidable</code>.
<code>express-formidable</code> is another Express middleware. It will extract the form
data from the request and make it available to you when you do <code>req.fields</code>.</p><p>This time though, <code>express-formidable</code> is not built-in, we need to explicitly
install it.</p><p><strong>In your terminal, install express-formidable</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> express-formidable --save</span></div></div></div></div></div><p><code>require</code> <code>express-formidable</code> so you can use it in your code. You can&#x27;t use
dashes in JavaScript variable names, so just call it <code>const formidable</code>.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> formidable </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;express-formidable&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>Now add this towards the top of your server, after your <code>require</code>s and
<code>app.use(express.static(&#x27;public&#x27;))</code>, but before your <code>/create-post</code> endpoint:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">use</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">formidable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>Now inside your <code>/create-post</code> function, add:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">req</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">fields</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>Refresh your server and have another go at writing a blogpost.</p><p>You should now see an object in the console. The key should be <code>blogpost</code>, just
like the name attribute in the form on the HTML page. The value of <code>blogpost</code>
will be your message!</p><blockquote><p><strong>Exercise</strong>: Try putting <code>app.use(formidable());</code> at the end of the file
(after the <code>create-post</code> but before starting the server)</p></blockquote><blockquote><p><strong>What is a middleware in Express?</strong> Middleware functions are functions that
have access to the request object (req), the response object (res), and the
next function in the applicationâ€™s request-response cycle. The next function
is a function in the Express router which, when invoked, executes the
middleware succeeding the current middleware. Read more on
<a href="https://expressjs.com/en/guide/writing-middleware.html" target="_blank" rel="noopener noreferrer">the Express documentation</a></p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="step-8---saving-your-blog-post"></a>Step 8 - Saving your blog post<a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-8---saving-your-blog-post" title="Direct link to heading">#</a></h3><p>Right now, your precious blog posts aren&#x27;t being saved anywhere, which is a bit
of a shame. Let&#x27;s do something about that.</p><p>You&#x27;ll note that in the data folder there&#x27;s a new file called <code>posts.json</code>.</p><p>If you look at <code>posts.json</code> will see there&#x27;s already one blog post there. The
format is:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">timestamp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">blog post message</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>We&#x27;ve used a timestamp as the key so that the blog posts are listed in
chronological order. Also, it&#x27;s a record of when the blog post was created.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="writing-to-your-hard-drive"></a>Writing to your hard drive<a aria-hidden="true" tabindex="-1" class="hash-link" href="#writing-to-your-hard-drive" title="Direct link to heading">#</a></h3><p>Anytime a blog post comes through to the server, we want to save the data on
your computer&#x27;s hard drive. To do this, we need to use a built-in Node module:
<code>fs</code>, which stands for &#x27;file-system&#x27;.</p><p>Built-in Node modules - <strong>core Node modules</strong> - are rather like the built-in
Express middleware functions. Only difference is that where you need to have
installed Express to use Express middleware functions, the core Node modules
come automatically with Node itself.</p><p>To use <code>fs</code>, you&#x27;ll need to require it at the top of your server file:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> fs </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;fs&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>The method we need to write to your hard drive is <code>fs.writeFile</code>.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">fs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">writeFile</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;path/to/file&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> yourData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// do something</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><ul><li>Argument 1: the location of the file you want to write to</li><li>Argument 2: the data you want to write</li><li>Argument 3: the callback function</li></ul><p>The &#x27;path/to/file&#x27; will be replaced with the actual path to the file you want to
write to. If it doesn&#x27;t exist, <code>fs.writeFile</code> cleverly creates one for you. But
we already have <code>posts.json</code>, so not to worry.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="reading-from-your-hard-drive"></a>Reading from your hard drive<a aria-hidden="true" tabindex="-1" class="hash-link" href="#reading-from-your-hard-drive" title="Direct link to heading">#</a></h3><p>To read data that&#x27;s already there, you would use <code>fs.readFile</code>. The way to use
<code>fs.readFile</code> is very similar to <code>fs.writeFile</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">fs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">readFile</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;path/to/file&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">error</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// do something</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><ul><li>Argument 1: the location of the file you want to read from</li><li>Argument 2: the callback function</li></ul><p>You&#x27;ll notice that <code>fs.readFile</code>&#x27;s callback function takes a second argument.
That argument would be the file you&#x27;re reading.</p><p>Let&#x27;s read the data from the <code>posts.json</code> file. Make sure you&#x27;ve <code>require</code>d the
<code>fs</code> core Node module at the top of your server file somewhere.</p><p>Add this code to your server (put it anywhere after the <code>require</code>s for now):</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">fs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">readFile</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__dirname </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/data/posts.json&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">error</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>(<code>__dirname</code> is a Node global object that gives you a path to current working
directory. It&#x27;s handy if we want to avoid writing the whole path out in full.)</p><p>If you restart the server, you&#x27;ll probably see something like this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">Buffer 7b 0a </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">22</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">31</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">34</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">36</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">37</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">33</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">39</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">33</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">35</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">36</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">32</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">39</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">31</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">22</span><span class="token plain"> 3a </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">22</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">54</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">68</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">69</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">73</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">69</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">73</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain"> 6d </span><span class="token number" style="color:rgb(247, 140, 108)">79</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">76</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">65</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">72</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">79</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">66</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">69</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">72</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">73</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">74</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">62</span><span class="token plain"> 6c 6f </span><span class="token number" style="color:rgb(247, 140, 108)">67</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">. </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></div></div></div></div></div><p>This is actually the contents of your <code>posts.json</code> file, but in a format called
a <strong>buffer</strong>. To make it a bit more human-readable, you can console.log the file
to a string, like this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">toString</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p><code>file</code> is in JSON format right now. If we want to access the blog post message
inside <code>file</code>, we need to parse it from JSON back to a JavaScipt object.</p><p>Add this next bit of code to your <code>fs.readFile</code>&#x27;s callback function:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> parsedFile </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">JSON</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">parse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>Now <code>parsedFile</code> is a normal JavaScript object, and we can access the data
inside it.</p><p>Ok, so we&#x27;ve talked about JSON and we&#x27;ve talked about reading and writing files.
You now have the power to save new blog post data to your hard drive! Work with
your partner and your mentor to see if you can figure the next steps out on your
own.</p><p>Here&#x27;s a breakdown of what you want to achieve:</p><ul><li>When new blog post data comes through, read from <code>posts.json</code> to access its
contents</li><li>Add your new blog post data to the old ones.</li><li>Write your new combined data back to the <code>posts.json</code> file.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="things-to-remember"></a>Things to remember<a aria-hidden="true" tabindex="-1" class="hash-link" href="#things-to-remember" title="Direct link to heading">#</a></h3><ul><li><p><code>fs.writeFile()</code> normally overwrites the target file you&#x27;ve given it. Chances
are you don&#x27;t want to lose all your old blog posts every time you get a new
one, so think about how you can combine <code>fs.readFile()</code> and <code>fs.writeFile()</code>
to prevent overwriting.</p></li><li><p>You will need to convert between JSON and a JavaScript object several times.
<code>JSON.parse()</code> and <code>JSON.stringify()</code> are what you need.</p></li></ul><p>Oh by the way, if you want to get the current timestamp, use the JavaScript
<code>Date.now()</code> method.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="step-9---displaying-your-blog-posts"></a>Step 9 - Displaying your blog posts<a aria-hidden="true" tabindex="-1" class="hash-link" href="#step-9---displaying-your-blog-posts" title="Direct link to heading">#</a></h3><p>So now we&#x27;re saving the blog posts to the server. Time to get them and display
them on the page!</p><p>If you look inside <code>public/script.js</code>, there&#x27;s a whole bunch of JavaScript code
in there. Don&#x27;t worry about what all the code means, just know that it&#x27;s
responsible for sending a request to GET old blog posts and display them on the
page underneath &quot;Recent Posts&quot;.</p><p><code>script.js</code> is trying to load existing posts by making a GET request. Look
inside <code>script.js</code> and see if you can find any useful endpoints.</p><p>Your <code>script.js</code> file will want to receive the JSON containing your blog posts.
Your job is to make that happen!</p><p>Express has a handy method called <code>res.sendFile()</code> that makes it easy to send
files back to the client. Feel free to use this with your JSON.</p><p>If all goes well, you should have a fully functional CMS!</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/CodeYourFuture/Syllabus-V2/edit/master/docs/node/workshops/workshop.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/node/week-3/instructors"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Instructor Notes</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/node/workshops/cyf-hotel"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">CYF Hotel Workshop Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-make-a-packagejson-file" class="table-of-contents__link">1. Make a <code>package.json</code> file</a></li><li><a href="#1-create-a-serverjs-file" class="table-of-contents__link">1. Create a <code>server.js</code> file</a></li><li><a href="#2-require-the-express-library" class="table-of-contents__link">2. <code>require</code> the <code>express</code> library</a></li><li><a href="#3-initialise-the-server" class="table-of-contents__link">3. Initialise the server</a></li><li><a href="#4-start-listening-for-potential-requests" class="table-of-contents__link">4. Start &#39;listening&#39; for potential requests</a></li><li><a href="#5-switch-the-server-on" class="table-of-contents__link">5. Switch the server on!</a><ul><li><a href="#what-is-a-handler-function" class="table-of-contents__link">What is a handler function?</a></li><li><a href="#what-does-a-handler-function-look-like-in-express" class="table-of-contents__link">What does a handler function look like in Express?</a></li></ul></li><li><a href="#1-create-your-own-handler-function" class="table-of-contents__link">1. Create your own handler function.</a></li><li><a href="#2-tell-your-handler-function-what-to-do" class="table-of-contents__link">2. Tell your handler function what to do</a></li><li><a href="#3-check-it-out-in-your-browser" class="table-of-contents__link">3. Check it out in your browser</a><ul><li><a href="#what-is-an-endpoint" class="table-of-contents__link">What is an endpoint?</a></li><li><a href="#what-is-url" class="table-of-contents__link">What is URL?</a></li></ul></li><li><a href="#1-create-your-own-endpoints-and-send-different-responses" class="table-of-contents__link">1. Create your own endpoints and send different responses</a><ul><li><a href="#step-6---serving-static-files" class="table-of-contents__link">Step 6 - Serving static files</a></li></ul></li><li><a href="#1-serve-static-files-from-your-server" class="table-of-contents__link">1. Serve static files from your server</a><ul><li><a href="#http-request-methods" class="table-of-contents__link">HTTP request methods</a></li><li><a href="#the-post-http-request-method" class="table-of-contents__link">The <code>POST</code> http request method</a></li><li><a href="#receiving-the-blog-post-on-the-server" class="table-of-contents__link">Receiving the blog post on the server</a></li><li><a href="#extracting-the-blog-post" class="table-of-contents__link">Extracting the blog post</a></li><li><a href="#step-8---saving-your-blog-post" class="table-of-contents__link">Step 8 - Saving your blog post</a></li><li><a href="#writing-to-your-hard-drive" class="table-of-contents__link">Writing to your hard drive</a></li><li><a href="#reading-from-your-hard-drive" class="table-of-contents__link">Reading from your hard drive</a></li><li><a href="#things-to-remember" class="table-of-contents__link">Things to remember</a></li><li><a href="#step-9---displaying-your-blog-posts" class="table-of-contents__link">Step 9 - Displaying your blog posts</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.codeyourfuture.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website</a></li><li class="footer__item"><a href="https://docs.codeyourfuture.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Documentation</a></li><li class="footer__item"><a href="https://github.com/codeyourfuture/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.facebook.com/codeyourfuture.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li><li class="footer__item"><a href="https://www.instagram.com/codeyourfuture_" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instagram</a></li><li class="footer__item"><a href="https://twitter.com/CodeYourFuture" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 CodeYourFuture</div></div></div></footer></div>
<script src="/styles.db9e3a81.js"></script>
<script src="/runtime~main.243a2622.js"></script>
<script src="/main.60ab707a.js"></script>
<script src="/1.cf43894a.js"></script>
<script src="/2.19272ac2.js"></script>
<script src="/167.eecfd68f.js"></script>
<script src="/170.bdba369a.js"></script>
<script src="/935f2afb.4e5578ee.js"></script>
<script src="/17896441.29ffa547.js"></script>
<script src="/0b7cb10b.d876c959.js"></script>
</body>
</html>