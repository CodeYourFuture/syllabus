"use strict";(self.webpackChunkcodeyourfuture_syllabus=self.webpackChunkcodeyourfuture_syllabus||[]).push([[7119],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return c}});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),m=p(n),c=r,h=m["".concat(l,".").concat(c)]||m[c]||d[c]||o;return n?a.createElement(h,i(i({ref:t},u),{},{components:n})):a.createElement(h,i({ref:t},u))}));function c(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},57723:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(67294);function r(e){var t="https://docs.google.com/forms/d/e/1FAIpQLScq8Zgr0pz7aMDj0D768eCpW798XgtDsKfpA6BquqK5Hdtj4A/viewform?embedded=true&entry.1672476057="+e.module.replace(" ","+")+"&entry.74981796="+e.week.replace(" ","+");return a.createElement("div",{className:"feedback"},a.createElement("div",{className:"feedback__wrapper"},a.createElement("iframe",{src:t,width:"640",height:"640",frameborder:"0",marginheight:"0",marginwidth:"0"},"Loading\u2026"),a.createElement("center",null,a.createElement("p",null,"Not loading? Form can be found"," ",a.createElement("a",{target:"_blank",href:t},"here"),". Click"," ",a.createElement("a",{target:"_blank",href:"https://docs.google.com/forms/d/1F2mB10japkHAPb3H-9Q4YrYH0i61GoMG1tk-P4ZT808/edit"},"here")," ","to get edit access."))))}},18846:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return p},default:function(){return h},frontMatter:function(){return l},metadata:function(){return u},toc:function(){return m}});var a=n(87462),r=n(63366),o=(n(67294),n(3905)),i=n(57723),s=["components"],l={id:"lesson",title:"Node - 1",sidebar_label:"Lesson"},p=void 0,u={unversionedId:"node/week-1/lesson",id:"node/week-1/lesson",title:"Node - 1",description:"Learning Objectives",source:"@site/docs/node/week-1/lesson.md",sourceDirName:"node/week-1",slug:"/node/week-1/lesson",permalink:"/node/week-1/lesson",draft:!1,editUrl:"https://github.com/CodeYourFuture/Syllabus-V2/edit/master/docs/node/week-1/lesson.md",tags:[],version:"current",frontMatter:{id:"lesson",title:"Node - 1",sidebar_label:"Lesson"},sidebar:"Node",previous:{title:"Module Coordinator",permalink:"/node/coordinator"},next:{title:"Coursework",permalink:"/node/week-1/homework"}},d={},m=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Before you start",id:"before-you-start",level:2},{value:"1) API Refresh",id:"1-api-refresh",level:2},{value:"Group Exercise (5 minutes)",id:"group-exercise-5-minutes",level:4},{value:"2) Introduction to Node",id:"2-introduction-to-node",level:2},{value:"2.1) Investigating a Simple Server",id:"21-investigating-a-simple-server",level:3},{value:"2.2) Running the Simple Server locally",id:"22-running-the-simple-server-locally",level:3},{value:"2.3) Modifying the Simple Server",id:"23-modifying-the-simple-server",level:3},{value:"3) Make a Node API",id:"3-make-a-node-api",level:2},{value:"3.1) Get Started",id:"31-get-started",level:3},{value:"3.2) Building the server",id:"32-building-the-server",level:3},{value:"1. Create a <code>server.js</code> file",id:"1-create-a-serverjs-file",level:4},{value:"2. <code>require</code> the <code>express</code> library",id:"2-require-the-express-library",level:4},{value:"3. Initialise the server",id:"3-initialise-the-server",level:4},{value:"4. Start &#39;listening&#39; for potential requests",id:"4-start-listening-for-potential-requests",level:4},{value:"5. Switch the server on!",id:"5-switch-the-server-on",level:4},{value:"6. npm script",id:"6-npm-script",level:4},{value:"3.3) Communicating with the server",id:"33-communicating-with-the-server",level:3},{value:"What is a handler function?",id:"what-is-a-handler-function",level:4},{value:"What does a handler function look like in Express?",id:"what-does-a-handler-function-look-like-in-express",level:4},{value:"1. Create your own handler function",id:"1-create-your-own-handler-function",level:4},{value:"2. Check it out in Postman",id:"2-check-it-out-in-postman",level:4},{value:"3.4) Routing",id:"34-routing",level:3},{value:"What is an endpoint?",id:"what-is-an-endpoint",level:4},{value:"What is URL?",id:"what-is-url",level:4},{value:"Create your own endpoints and send different responses",id:"create-your-own-endpoints-and-send-different-responses",level:4},{value:"3.5) Query Parameters",id:"35-query-parameters",level:3},{value:"1. Detect Query Parameters",id:"1-detect-query-parameters",level:4},{value:"2. Multiple Query Parameters",id:"2-multiple-query-parameters",level:3},{value:"PD (Professionalism)",id:"pd-professionalism",level:2},{value:"Feedback",id:"feedback",level:2}],c={toc:m};function h(e){var t=e.components,l=(0,r.Z)(e,s);return(0,o.kt)("wrapper",(0,a.Z)({},c,l,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"learning-objectives"},"Learning Objectives"),(0,o.kt)("p",null,"By the end of this lesson trainees should be able to:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Define what an API is used for"),(0,o.kt)("li",{parentName:"ul"},"Create ",(0,o.kt)("inlineCode",{parentName:"li"},"express")," servers locally"),(0,o.kt)("li",{parentName:"ul"},"Use ",(0,o.kt)("inlineCode",{parentName:"li"},"npm")," to start a node server"),(0,o.kt)("li",{parentName:"ul"},"Explain what ",(0,o.kt)("inlineCode",{parentName:"li"},"express")," is and what it is used for"),(0,o.kt)("li",{parentName:"ul"},"Use ",(0,o.kt)("inlineCode",{parentName:"li"},"express")," to create an API that will accept a ",(0,o.kt)("inlineCode",{parentName:"li"},"GET")," request that returns JSON"),(0,o.kt)("li",{parentName:"ul"},"Implement routing to return different resources depending on URL"),(0,o.kt)("li",{parentName:"ul"},"Implement query params to return different content (?query=ses)")),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"before-you-start"},"Before you start"),(0,o.kt)("p",null,"Before you arrive at class you ",(0,o.kt)("strong",{parentName:"p"},"must")," have completed the following setup work."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"../preparation"},"Node Preparation")),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"If you are a teacher reading this, please check the ",(0,o.kt)("a",{parentName:"em",href:"./instructors"},"Instructor Notes"))),(0,o.kt)("h2",{id:"1-api-refresh"},"1) API Refresh"),(0,o.kt)("admonition",{title:"Exercise",type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Exercise: Discuss known APIs"),(0,o.kt)("ol",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ol"},"Groups discuss any APIs they know about."),(0,o.kt)("li",{parentName:"ol"},"What might you do with it?"),(0,o.kt)("li",{parentName:"ol"},"Announce answers to class."))),(0,o.kt)("p",null,"Before we make our own API, let's look at and use some other APIs."),(0,o.kt)("p",null,"Here's an example API that shows us the Sunrise and Sunset times of everywhere in the world."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://sunrise-sunset.org/api"},"Root"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://sunrise-sunset.org/api"},"https://sunrise-sunset.org/api")))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://api.sunrise-sunset.org/json?lat=51.5311&lng=0.0481"},"Example: Sunset time in Bethnal Green"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://api.sunrise-sunset.org/json?lat=51.5311&lng=0.0481"},"https://api.sunrise-sunset.org/json?lat=51.5311&lng=0.0481"))))),(0,o.kt)("p",null,"Next let's try an exercise"),(0,o.kt)("h4",{id:"group-exercise-5-minutes"},"Group Exercise (5 minutes)"),(0,o.kt)("admonition",{title:"Exercise",type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Pick a couple of these and experiment with them, modify the requests, report your findings."),(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"http://www.tvmaze.com/api"},"http://www.tvmaze.com/api"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"e.g. ",(0,o.kt)("a",{parentName:"li",href:"http://api.tvmaze.com/shows/82/episodes"},"http://api.tvmaze.com/shows/82/episodes")))),(0,o.kt)("li",{parentName:"ul"},"Sunrise/Sunset times: ",(0,o.kt)("a",{parentName:"li",href:"https://sunrise-sunset.org/api"},"https://sunrise-sunset.org/api"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"e.g. Sunset in Bethnal Green: ",(0,o.kt)("a",{parentName:"li",href:"https://api.sunrise-sunset.org/json?lat=51.5311&lng=0.0481"},"https://api.sunrise-sunset.org/json?lat=51.5311&lng=0.0481")))),(0,o.kt)("li",{parentName:"ul"},"Google Books API: ",(0,o.kt)("a",{parentName:"li",href:"https://www.googleapis.com/books/v1/volumes?q=isbn:0747532699"},"https://www.googleapis.com/books/v1/volumes?q=isbn:0747532699")),(0,o.kt)("li",{parentName:"ul"},"Star Wars API: ",(0,o.kt)("a",{parentName:"li",href:"https://swapi.co/"},"https://swapi.co/"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"e.g.",(0,o.kt)("a",{parentName:"li",href:"https://swapi.co/api/people/1/"},"https://swapi.co/api/people/1/")))),(0,o.kt)("li",{parentName:"ul"},"UK Police Data. ",(0,o.kt)("a",{parentName:"li",href:"https://data.police.uk/docs/"},"https://data.police.uk/docs/"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"e.g. street-level crimes, Old Street, London: ",(0,o.kt)("a",{parentName:"li",href:"https://data.police.uk/api/crimes-street/all-crime?lat=51.5268&lng=0.0866"},"https://data.police.uk/api/crimes-street/all-crime?lat=51.5268&lng=0.0866")))),(0,o.kt)("li",{parentName:"ul"},"iTunes Search API: ",(0,o.kt)("a",{parentName:"li",href:"https://affiliate.itunes.apple.com/resources/documentation/itunes-store-web-service-search-api/"},"https://affiliate.itunes.apple.com/resources/documentation/itunes-store-web-service-search-api/"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"e.g. All Beyonce's music videos: ",(0,o.kt)("a",{parentName:"li",href:"https://itunes.apple.com/search?term=beyonce&entity=musicVideo"},"https://itunes.apple.com/search?term=beyonce&entity=musicVideo")))),(0,o.kt)("li",{parentName:"ul"},"CYF resource-library ",(0,o.kt)("a",{parentName:"li",href:"https://resource-library.codeyourfuture.io/api/resources"},"https://resource-library.codeyourfuture.io/api/resources")),(0,o.kt)("li",{parentName:"ul"},"(Difficult) Wikipedia API: ",(0,o.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/w/api.php"},"https://en.wikipedia.org/w/api.php"),"?"))),(0,o.kt)("p",null,"So what's the big deal? I can see this information on web sites already!"),(0,o.kt)("p",null,"What's an API and how is it different from a web site?"),(0,o.kt)("h2",{id:"2-introduction-to-node"},"2) Introduction to Node"),(0,o.kt)("h3",{id:"21-investigating-a-simple-server"},"2.1) Investigating a Simple Server"),(0,o.kt)("p",null,"Let's investigate a web server made in Node. You can check it out running here:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://glitch.com/edit/#!/cyf-simple-express"},"Source")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://cyf-simple-express.glitch.me/"},"Live"))),(0,o.kt)("admonition",{title:"Teacher-Led Live Coding Example",type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Let's inspect the different parts of the Node App and how Express works. Let's discuss"),(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"require")," on Line 3"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"express()")," on Line 5"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"app.get()")," on Line 12, 26 and 20"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"app.listen()")," on Line 29"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"response.send()")," on Line 13 and Line 17"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"response.json()")," on Line 22")),(0,o.kt)("p",{parentName:"admonition"},"Can we work out what each those lines are doing?")),(0,o.kt)("p",null,"Some examples here use ",(0,o.kt)("a",{parentName:"p",href:"https://glitch.com/"},"Glitch"),", a fun code playground you might like to explore. We will learn about deploying Node applications and making them available for others, but we will use ",(0,o.kt)("a",{parentName:"p",href:"https://render.com/"},"Render"),"."),(0,o.kt)("h3",{id:"22-running-the-simple-server-locally"},"2.2) Running the Simple Server locally"),(0,o.kt)("p",null,"Fork and clone:  ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/CodeYourFuture/Node-Exercises"},"https://github.com/CodeYourFuture/Node-Exercises"),"."),(0,o.kt)("p",null,"This repository contains multiple small projects, so enter the ",(0,o.kt)("inlineCode",{parentName:"p"},"cyf-simple-express")," directory where we will be doing our work today."),(0,o.kt)("p",null,"Once cloned we're going to use the ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"https://www.npmjs.com/"},"Node Package Manager (npm)"))," to setup the project using the ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"npm install"))," command."),(0,o.kt)("p",null,"NPM is the place to go to download other Node code written by other people.\nThere are thousands of open-source, 3rd-party Node modules (also known as\n",(0,o.kt)("em",{parentName:"p"},"packages"),") written by other people that you can download and use in your own projects."),(0,o.kt)("p",null,"Run the following command in your terminal:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"npm install\n")),(0,o.kt)("p",null,"Once the prerequsities are installed you can now start the server by typing"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"npm start\n")),(0,o.kt)("p",null,"Once it starts up you will be able to access your running API by going to"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"http://localhost:3000\n")),(0,o.kt)("h3",{id:"23-modifying-the-simple-server"},"2.3) Modifying the Simple Server"),(0,o.kt)("admonition",{title:"Exercise:",type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Let's try to modify the ",(0,o.kt)("inlineCode",{parentName:"p"},"server.js")," code above to do something different!"),(0,o.kt)("p",{parentName:"admonition"},"Examples:"),(0,o.kt)("ol",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ol"},'Say "Hello Miles", instead of "Hello Kash"'),(0,o.kt)("li",{parentName:"ol"},"Make it return an array of strings as json."),(0,o.kt)("li",{parentName:"ol"},"Make it return the current time"),(0,o.kt)("li",{parentName:"ol"},"Advanced: make it return whatever you want! 3 minutes."))),(0,o.kt)("h2",{id:"3-make-a-node-api"},"3) Make a Node API"),(0,o.kt)("p",null,"The rest of today's lesson is a workshop."),(0,o.kt)("p",null,"In small groups complete each of the steps below. At different points, the teacher will introduce new concepts."),(0,o.kt)("h3",{id:"31-get-started"},"3.1) Get Started"),(0,o.kt)("p",null,"Fork and clone the repo ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/CodeYourFuture/Node-Starter-Kit"},"https://github.com/CodeYourFuture/Node-Starter-Kit"),"."),(0,o.kt)("p",null,"It is an empty project that includes all the details you need to get started building your first Node App."),(0,o.kt)("p",null,"Once cloned, make sure to run the following code to install all prerequisites."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"npm install\n")),(0,o.kt)("h3",{id:"32-building-the-server"},"3.2) Building the server"),(0,o.kt)("p",null,"The first thing we need to do is build our server. You will always need to build\na server when writing back-end code. A server can be built in pure Node.js, but\nExpress is simpler to work with."),(0,o.kt)("h4",{id:"1-create-a-serverjs-file"},"1. Create a ",(0,o.kt)("inlineCode",{parentName:"h4"},"server.js")," file"),(0,o.kt)("p",null,"Let's build our server! Before we do anything, let's create a new file called\n",(0,o.kt)("inlineCode",{parentName:"p"},"server.js"),". This is where all our server code is going to live."),(0,o.kt)("h4",{id:"2-require-the-express-library"},"2. ",(0,o.kt)("inlineCode",{parentName:"h4"},"require")," the ",(0,o.kt)("inlineCode",{parentName:"h4"},"express")," library"),(0,o.kt)("p",null,"We already installed Express in Step 2, but we need to make sure it is included\nin this file specifically so we can use its methods. In Node.js, when\nyou want to use a package in another file, you must ",(0,o.kt)("inlineCode",{parentName:"p"},"require")," it."),(0,o.kt)("p",null,"To require Express, write the following inside ",(0,o.kt)("inlineCode",{parentName:"p"},"server.js"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'const express = require("express");\n')),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Let us get used to ES6 syntax - so use ",(0,o.kt)("inlineCode",{parentName:"p"},"const")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"let")," instead of\n",(0,o.kt)("inlineCode",{parentName:"p"},"var"),", arrow methods instead of functions, etc...")),(0,o.kt)("h4",{id:"3-initialise-the-server"},"3. Initialise the server"),(0,o.kt)("p",null,"To initialise our server, we need to call the ",(0,o.kt)("inlineCode",{parentName:"p"},"express()")," function. This\nwill create an Express application for us to work with."),(0,o.kt)("p",null,"Add the second line of code to your ",(0,o.kt)("inlineCode",{parentName:"p"},"server.js")," file:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'const express = require("express");\nconst app = express();\n')),(0,o.kt)("h4",{id:"4-start-listening-for-potential-requests"},"4. Start 'listening' for potential requests"),(0,o.kt)("p",null,"One more step left, we need to set a ",(0,o.kt)("strong",{parentName:"p"},"port")," for our server to listen to. Think\nof a port as a door number; any requests that come to the server will come via\nthat door. Setting a port will allow us to find where our server is running."),(0,o.kt)("p",null,"We use the ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"app.listen"))," method to do this. This method takes two arguments:\na ",(0,o.kt)("strong",{parentName:"p"},"port")," and a ",(0,o.kt)("strong",{parentName:"p"},"callback function")," telling it what to do once the server is\nrunning."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Need clarification? Read more about the ",(0,o.kt)("inlineCode",{parentName:"p"},"app.listen")," method in the ",(0,o.kt)("a",{parentName:"p",href:"http://expressjs.com/en/4x/api.html#app.listen"},"Express documentation"),".")),(0,o.kt)("p",null,"We're going to run our server on port ",(0,o.kt)("inlineCode",{parentName:"p"},"3000"),", and add a simple ",(0,o.kt)("inlineCode",{parentName:"p"},"console.log")," in the callback function. Update your ",(0,o.kt)("inlineCode",{parentName:"p"},"server.js")," file, calling the ",(0,o.kt)("inlineCode",{parentName:"p"},"app.listen")," method:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'const express = require("express");\nconst app = express();\n\napp.listen(3000, function () {\n  console.log("Server is listening on port 3000. Ready to accept requests!");\n});\n')),(0,o.kt)("admonition",{title:"Task",type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Try to use ES6 arrow functions instead of ",(0,o.kt)("inlineCode",{parentName:"p"},"function"),".")),(0,o.kt)("h4",{id:"5-switch-the-server-on"},"5. Switch the server on!"),(0,o.kt)("p",null,"You've built your server, but it isn't running yet. We need to run a command in\nthe terminal to do this. We are going to use the ",(0,o.kt)("inlineCode",{parentName:"p"},"node")," keyword to run the\nserver file."),(0,o.kt)("p",null,"Type the following command in your terminal:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"node server.js\n")),(0,o.kt)("p",null,"If you see this, congratulations! You have built yourself a server!"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/node-girls/workshop-cms/master/readme-images/step2-server02.png",alt:"success"})),(0,o.kt)("h4",{id:"6-npm-script"},"6. npm script"),(0,o.kt)("p",null,"To exit the running the server, type ",(0,o.kt)("inlineCode",{parentName:"p"},"crtl + c"),". Instead of running the server with ",(0,o.kt)("inlineCode",{parentName:"p"},"node server.js")," everytime, we can create an alias for it in ",(0,o.kt)("inlineCode",{parentName:"p"},"package.json"),"."),(0,o.kt)("p",null,"Under the ",(0,o.kt)("inlineCode",{parentName:"p"},"scripts")," property, add ",(0,o.kt)("inlineCode",{parentName:"p"},"start: node server.js"),". We can now run our server using ",(0,o.kt)("inlineCode",{parentName:"p"},"npm start")," which will be an alias (a shortcut) to ",(0,o.kt)("inlineCode",{parentName:"p"},"node server.js"),"."),(0,o.kt)("p",null,"Go to the terminal and type ",(0,o.kt)("inlineCode",{parentName:"p"},"npm start")," and make sure that the server still runs."),(0,o.kt)("h3",{id:"33-communicating-with-the-server"},"3.3) Communicating with the server"),(0,o.kt)("p",null,"Now that we've built the server, we need to communicate with it. We are going to\ncontrol the server with ",(0,o.kt)("strong",{parentName:"p"},"handler functions"),"."),(0,o.kt)("h4",{id:"what-is-a-handler-function"},"What is a handler function?"),(0,o.kt)("p",null,"When a request reaches the server, we need a way of responding to it. In comes\nthe handler function. The handler function is just a function which receives\nrequests and handles them, hence the name."),(0,o.kt)("p",null,"The handler function is always called with a ",(0,o.kt)("inlineCode",{parentName:"p"},"request")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"response")," object. The response object is what gets sent back to the client. It contains the information that gets displayed in the web page. You can decide what to send back in your response."),(0,o.kt)("h4",{id:"what-does-a-handler-function-look-like-in-express"},"What does a handler function look like in Express?"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"get()")," ",(0,o.kt)("a",{parentName:"p",href:"http://expressjs.com/en/api.html#app.get.method"},"method")," is one of the methods used to\ndefine a handler function in Express. It takes two parameters: the ",(0,o.kt)("strong",{parentName:"p"},"endpoint"),"\nat which to trigger an action (we'll explain more about this in the next step),\nand the handler function that tells it exactly what to do. Here's a simple\n\"Hello World!\" example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'// req is the Request object, res is the Response object\n// (these are just variable names, they can be anything but it\'s a convention to call them req and res)\napp.get("/", function (req, res) {\n  res.send("Hello World!");\n});\n')),(0,o.kt)("p",null,'Here, we are telling our server to respond with "Hello World!" when someone\ntries to access the webpage.'),(0,o.kt)("h4",{id:"1-create-your-own-handler-function"},"1. Create your own handler function"),(0,o.kt)("p",null,"Let us add a handler handler function to send back a message to the client. To do that,\nwe're going to use the Express ",(0,o.kt)("inlineCode",{parentName:"p"},"send()"),"\n",(0,o.kt)("a",{parentName:"p",href:"http://expressjs.com/en/api.html#res.send"},"method"),". This will update the\nresponse object with the message."),(0,o.kt)("p",null,"Update your handler function like so:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'const express = require("express");\nconst app = express();\n\napp.get("/", function (req, res) {\n  res.send("Yay Node!");\n});\n\napp.listen(3000, function () {\n  console.log("Server is listening on port 3000. Ready to accept requests!");\n});\n')),(0,o.kt)("p",null,"::: Break Exercise\nTry to ",(0,o.kt)("inlineCode",{parentName:"p"},"console.log")," the ",(0,o.kt)("inlineCode",{parentName:"p"},"request")," object inside the handler function."),(0,o.kt)("p",null,"Restart your server, send the request again with Postman, then go to your terminal to see what it looks like. You should see a lot of data come through.\n:::"),(0,o.kt)("h4",{id:"2-check-it-out-in-postman"},"2. Check it out in Postman"),(0,o.kt)("p",null,"Quit your server in the terminal with ",(0,o.kt)("inlineCode",{parentName:"p"},"ctrl + c"),". Then restart it to run your\nnew changes."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"node server.js\n")),(0,o.kt)("p",null,"Now, open Postman, and send a ",(0,o.kt)("inlineCode",{parentName:"p"},"GET")," request to\n",(0,o.kt)("inlineCode",{parentName:"p"},"http://localhost:3000"),". If you see your message in Postman,\ncongratulations! You just sent your first response from the server."),(0,o.kt)("admonition",{title:"Checkpoint",type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Do you understand all these terms? You should be able to see examples of them in Postman"),(0,o.kt)("ul",{parentName:"admonition",className:"contains-task-list"},(0,o.kt)("li",{parentName:"ul",className:"task-list-item"},(0,o.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Client"),(0,o.kt)("li",{parentName:"ul",className:"task-list-item"},(0,o.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Server"),(0,o.kt)("li",{parentName:"ul",className:"task-list-item"},(0,o.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Front-end"),(0,o.kt)("li",{parentName:"ul",className:"task-list-item"},(0,o.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Back-end"),(0,o.kt)("li",{parentName:"ul",className:"task-list-item"},(0,o.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Full stack developer"),(0,o.kt)("li",{parentName:"ul",className:"task-list-item"},(0,o.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Request"),(0,o.kt)("li",{parentName:"ul",className:"task-list-item"},(0,o.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Response"),(0,o.kt)("li",{parentName:"ul",className:"task-list-item"},(0,o.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","HTTP"),(0,o.kt)("li",{parentName:"ul",className:"task-list-item"},(0,o.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","HTTP Response Codes"),(0,o.kt)("li",{parentName:"ul",className:"task-list-item"},(0,o.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","HTTP Request Methods (or Verbs)"))),(0,o.kt)("h3",{id:"34-routing"},"3.4) Routing"),(0,o.kt)("p",null,"At the moment our server only does one thing. When it receives a request from\nthe ",(0,o.kt)("inlineCode",{parentName:"p"},"/"),' endpoint, it sends back the same response: "Yay Node!".'),(0,o.kt)("admonition",{title:"Exercise",type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Try typing http://localhost:3000/node and see what happens.")),(0,o.kt)("p",null,"However by making use of endpoints, we can make the server send different\nresponses for different requests. This concept is called ",(0,o.kt)("strong",{parentName:"p"},"routing"),"."),(0,o.kt)("h4",{id:"what-is-an-endpoint"},"What is an endpoint?"),(0,o.kt)("p",null,"An endpoint is the part of the URL which comes after ",(0,o.kt)("inlineCode",{parentName:"p"},"/"),". For example:\n",(0,o.kt)("inlineCode",{parentName:"p"},"/chocolate"),' is the "chocolate" endpoint. It\'s the URL to which you send a\nrequest.'),(0,o.kt)("h4",{id:"what-is-url"},"What is URL?"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"alt text",src:n(21565).Z,width:"707",height:"168"})),(0,o.kt)("h4",{id:"create-your-own-endpoints-and-send-different-responses"},"Create your own endpoints and send different responses"),(0,o.kt)("p",null,"We're going to try sending different responses at different endpoints. Remember\nthe ",(0,o.kt)("inlineCode",{parentName:"p"},"app.get()")," method? To set up routing in your server, we just need to repeat\nthis method with different endpoints."),(0,o.kt)("p",null,"For example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'app.get("/", function (req, res) {\n  res.send("Hello World!");\n});\n\napp.get("/chocolate", function (req, res) {\n  res.send("Mm chocolate :O");\n});\n')),(0,o.kt)("admonition",{title:"Exercise",type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Add some code so that your server sends one message when the endpoint is ",(0,o.kt)("inlineCode",{parentName:"p"},"/node")," and another one when it's ",(0,o.kt)("inlineCode",{parentName:"p"},"/codeyourfuture"),".")),(0,o.kt)("h3",{id:"35-query-parameters"},"3.5) Query Parameters"),(0,o.kt)("p",null,"So, what is a query parameter?"),(0,o.kt)("p",null,"In simple terms, a query string is the part of a URL (Uniform Resource Locater) after the question mark (?). It is meant to send small amounts of information to the server via the url. This information is usually used as parameters to query a database, or maybe to filter results. It's really up to you what they're used for."),(0,o.kt)("p",null,"Here is an example of a URL with query strings attached:"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("a",{parentName:"p",href:"https://stackabuse.com/?page=2&limit=3"},"https://stackabuse.com/?page=2&limit=3"))),(0,o.kt)("h4",{id:"1-detect-query-parameters"},"1. Detect Query Parameters"),(0,o.kt)("p",null,"We're going to try sending different responses at different endpoints. Remember\nthe ",(0,o.kt)("inlineCode",{parentName:"p"},"app.get()")," method? To set up routing in your server, we just need to repeat\nthis method with different endpoints."),(0,o.kt)("p",null,"For example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'app.get("/", function (req, res) {\n  let searchQuery = req.query.search;\n  res.send("Hello World! You searched for " + searchQuery);\n});\n')),(0,o.kt)("p",null,"Here is an example of how we would use this endpoint with query parameters:"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"http://localhost:3000?search=hello")),(0,o.kt)("p",null,"Now your turn!"),(0,o.kt)("admonition",{title:"Exercise",type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Add some code so that your server returns the amount of chocolate that you want from ",(0,o.kt)("inlineCode",{parentName:"p"},"/chocolate")," endpoint. For example"),(0,o.kt)("p",{parentName:"admonition"},"http://localhost:3000/chocolate?amount=3")),(0,o.kt)("h3",{id:"2-multiple-query-parameters"},"2. Multiple Query Parameters"),(0,o.kt)("p",null,"What if we want to detect and read multiple parameters? If we use a URL from earlier as an example, here is how we would ",(0,o.kt)("strong",{parentName:"p"},"send")," multiple query parameters:"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("a",{parentName:"p",href:"https://api.sunrise-sunset.org/json?lat=51.5311&lng=0.0481"},"https://api.sunrise-sunset.org/json?lat=51.5311&lng=0.0481"))),(0,o.kt)("p",null,'Here we have one parameter called "lat" and another "lng".'),(0,o.kt)("p",null,"Here is how we would do that in Node:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'app.get("/json", function (req, res) {\n  let lat = req.query.lat;\n  let lng = req.query.lng;\n  res.send(`You searched for Lat: ${lat} and Lng: ${lng}`);\n});\n')),(0,o.kt)("admonition",{title:"Exercise",type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Add some code so that your server takes 2 values that we will multiply together and return the value\nFor example"),(0,o.kt)("p",{parentName:"admonition"},"http://localhost:3000/multiply?value1=2&value2=10"),(0,o.kt)("p",{parentName:"admonition"},"This should return value of 20")),(0,o.kt)("h2",{id:"pd-professionalism"},"PD (Professionalism)"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/Techtonica/curriculum/blob/main/onboarding/professionalism.md"},"Adapted from Tectonica workshop")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Session objective:")," This session explores the professional conduct, behaviour and attitude required in the work place. We will talk about the accepted standards of professionalism and the myths about behaving professionally."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://docs.google.com/presentation/d/16C8msrq6NSfuCHydHr1nzf1iSy784fC5yscwLUxAngo/edit#slide=id.gaa71b86f5e_0_0"},"Professionalism slides")),(0,o.kt)("admonition",{title:"Exercise (10 min)",type:"note"},(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("strong",{parentName:"p"},"Exercise objective:")," To communicate with colleagues with a professional attitude"),(0,o.kt)("ol",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ol"},"On your own write a Slack message to a team member saying you're running late to a meeting. Volunteer to share your message with the class."),(0,o.kt)("li",{parentName:"ol"},"On your own write an email to a manager notifying them that you'll be out of the office on some future date. Volunteer to share your message with the class."))),(0,o.kt)("admonition",{title:"Exercise (10 min)",type:"note"},(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("strong",{parentName:"p"},"Exercise objective:")," To role-play a conversation between a team member and manager about project deadline"),(0,o.kt)("p",{parentName:"admonition"},"Pair with another trainee. Take turns role-playing the following scenario:"),(0,o.kt)("p",{parentName:"admonition"},"One of you is a team member and you need to tell your manager in person that your project is likely not going to be finished by the agreed deadline. The other person is the manager and should express unhappiness about this, but also work together to come up with a new, reasonable deadline or some other alternative (e.g. reduce the scope of the project or get help from a team member). Be sure to switch roles.")),(0,o.kt)("h2",{id:"feedback"},"Feedback"),(0,o.kt)("p",null,"Please spend two minutes reviewing this lesson to help us improve it for the future. This feedback will be shared with volunteers."),(0,o.kt)(i.Z,{module:"Node",week:"Week 1",mdxType:"Feedback"}))}h.isMDXComponent=!0},21565:function(e,t,n){t.Z=n.p+"assets/images/http1-url-structure-20f6e9249e0f11322516234d24e5cb35.png"}}]);