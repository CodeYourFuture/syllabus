"use strict";(self.webpackChunkcodeyourfuture_syllabus=self.webpackChunkcodeyourfuture_syllabus||[]).push([[4261],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(n),m=r,h=d["".concat(s,".").concat(m)]||d[m]||u[m]||o;return n?a.createElement(h,i(i({ref:t},c),{},{components:n})):a.createElement(h,i({ref:t},c))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},43816:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return u}});var a=n(87462),r=n(63366),o=(n(67294),n(3905)),i=["components"],l={id:"multiple-form-fields",title:"React Further Reading - Multiple Form Fields"},s=void 0,p={unversionedId:"react/week-3/further-reading/multiple-form-fields",id:"react/week-3/further-reading/multiple-form-fields",title:"React Further Reading - Multiple Form Fields",description:"In Week 3 of the React lessons, we looked at how we could make a form with multiple fields in React.",source:"@site/docs/react/week-3/further-reading/multiple-form-fields.md",sourceDirName:"react/week-3/further-reading",slug:"/react/week-3/further-reading/multiple-form-fields",permalink:"/react/week-3/further-reading/multiple-form-fields",draft:!1,editUrl:"https://github.com/CodeYourFuture/Syllabus-V2/edit/master/docs/react/week-3/further-reading/multiple-form-fields.md",tags:[],version:"current",frontMatter:{id:"multiple-form-fields",title:"React Further Reading - Multiple Form Fields"}},c={},u=[{value:"Updating an Object in State",id:"updating-an-object-in-state",level:2},{value:"Object Spread",id:"object-spread",level:3},{value:"Computing Property Names",id:"computing-property-names",level:3}],d={toc:u};function m(e){var t=e.components,n=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"In Week 3 of the React lessons, we looked at how we could make a form with multiple fields in React."),(0,o.kt)("p",null,"To do this, we used multiple state variables. But there is actually an approach which uses only one state variable, but relies on some new JavaScript functionality that we have not looked at previously."),(0,o.kt)("p",null,"Let's take a look at how we could simplify our form component (",(0,o.kt)("a",{parentName:"p",href:"https://codesandbox.io/s/controlled-component-createaccountform-m7p083zn6p?file=/src/CreateAccountForm.js"},"interactive example"),"):"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'function CreateAccountForm() {\n  const [userData, setUserData] = useState({\n    username: "",\n    email: "",\n    password: "",\n  });\n\n  function handleChange(event) {\n    const updatedUserData = {\n      ...userData,\n      [event.target.name]: event.target.value,\n    };\n\n    setUserData(updatedUserData);\n  }\n\n  function submit() {\n    console.log("Do something with the form values...");\n    console.log(`Username = ${userData.username}`);\n    console.log(`Email = ${userData.email}`);\n    console.log(`Password = ${userData.password}`);\n  }\n\n  return (\n    <div>\n      <div>\n        <input\n          type="text"\n          name="username"\n          placeholder="Username"\n          value={userData.username}\n          onChange={handleChange}\n        />\n      </div>\n      <div>\n        <input\n          type="text"\n          name="email"\n          placeholder="Email"\n          value={userData.email}\n          onChange={handleChange}\n        />\n      </div>\n      <div>\n        <input\n          type="password"\n          name="password"\n          placeholder="Password"\n          value={userData.password}\n          onChange={handleChange}\n        />\n      </div>\n      <button type="submit" onClick={submit}>\n        Create account\n      </button>\n    </div>\n  );\n}\n')),(0,o.kt)("p",null,"As before, we have three different inputs named ",(0,o.kt)("inlineCode",{parentName:"p"},"username"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"email")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"password"),". We still have one method (",(0,o.kt)("inlineCode",{parentName:"p"},"handleChange"),") that keeps track of changes for all values."),(0,o.kt)("p",null,"The difference is that we now keep each value as a field in an object in state. This means that our change handler has to be updated to update the object in state, instead of calling a different state setter function."),(0,o.kt)("h2",{id:"updating-an-object-in-state"},"Updating an Object in State"),(0,o.kt)("p",null,"Did you spot the strange syntax in ",(0,o.kt)("inlineCode",{parentName:"p"},"handleChange"),"? We are using two techniques that you may not have seen in JavaScript before."),(0,o.kt)("h3",{id:"object-spread"},"Object Spread"),(0,o.kt)("p",null,"We are using ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax#Spread_in_object_literals"},"object spread")," syntax, which copies properties from one object to another. We are using this to update the state object but without ",(0,o.kt)("em",{parentName:"p"},"mutating")," the original object."),(0,o.kt)("p",null,"Let's break this down into 2 steps. Here we create a ",(0,o.kt)("strong",{parentName:"p"},"new")," object based on another object, and ",(0,o.kt)("strong",{parentName:"p"},"adding")," a new property (",(0,o.kt)("a",{parentName:"p",href:"https://jsbin.com/suyekiwezu/edit?js,console"},"interactive example"),"):"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'const sherlock = {\n  name: "Sherlock Holmes",\n};\n\nconst sherlockAfterMoving = {\n  ...sherlock,\n  address: "221b Baker Street",\n};\n\nconsole.log(sherlock);\nconsole.log(sherlockAfterMoving);\n')),(0,o.kt)("p",null,"We can also ",(0,o.kt)("em",{parentName:"p"},"override")," a property if the keys are the same (",(0,o.kt)("a",{parentName:"p",href:"https://jsbin.com/hiwuwobeza/edit?js,console"},"interactive example"),"):"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'const watson = {\n  name: "John Watson",\n  address: "123 Fake Road",\n};\n\nconst watsonAfterMoving = {\n  ...watson,\n  address: "221b Baker Street",\n};\n\nconsole.log(watson);\nconsole.log(watsonAfterMoving);\n')),(0,o.kt)("p",null,'Notice how Watson "moves" from "123 Fake Road" to "221b Baker Street"? Because the ',(0,o.kt)("inlineCode",{parentName:"p"},"address")," key is in both objects, the ",(0,o.kt)("strong",{parentName:"p"},"second"),' one "wins" and overrides the other key.'),(0,o.kt)("h3",{id:"computing-property-names"},"Computing Property Names"),(0,o.kt)("p",null,"The second bit of new syntax (",(0,o.kt)("inlineCode",{parentName:"p"},"[event.target.name]"),") is called a ",(0,o.kt)("em",{parentName:"p"},"computed property name"),". Inside a JavaScript object, you can use a variable wrapped in square brackets which acts as a dynamic key, such as (",(0,o.kt)("a",{parentName:"p",href:"https://jsbin.com/jegerohati/edit?js,console"},"interactive example"),"):"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'const theKey = "hat";\nconst theValue = "Deerstalker Cap";\n\nconst sherlockClothes = {\n  [theKey]: theValue,\n};\n\nconsole.log(sherlockClothes); // => { hat: "Deerstalker Cap" }\n')),(0,o.kt)("p",null,"We are combining all of the concepts above to make a new object, that has all the same properties as the ",(0,o.kt)("inlineCode",{parentName:"p"},"userData")," object, except for the property that is computed from ",(0,o.kt)("inlineCode",{parentName:"p"},"event.target.name")," for the key and ",(0,o.kt)("inlineCode",{parentName:"p"},"event.target.value")," for the value."),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:"left"},"Exercise A"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},"1. Open the ",(0,o.kt)("inlineCode",{parentName:"td"},"pokedex")," React application again and open the ",(0,o.kt)("inlineCode",{parentName:"td"},"src/CaughtPokemon.js")," file.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},"2. Change your ",(0,o.kt)("inlineCode",{parentName:"td"},"CaughtPokemon")," component to use an object for the ",(0,o.kt)("inlineCode",{parentName:"td"},"pokemonNameInput")," state. Use the pattern above to update state in ",(0,o.kt)("inlineCode",{parentName:"td"},"handleInputChange"),".")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},"3. Add another ",(0,o.kt)("inlineCode",{parentName:"td"},"<input>")," field to the component which the user can use to write a description of the Pokemon.")))))}m.isMDXComponent=!0}}]);